# ADR-001: Валидация входных данных для сущности Card
Дата: 20-10-2025
Статус: Accepted

## Context
Cервис "Idea Kanban" принимает данные для создания карточек через API (`POST /cards`). Поля вида `title`, могут содержать произвольные строки. Без ограничений на длину и формат это создает риски:
- **Denial of Service:** Отправка очень длинных строк может привести к избыточному потреблению памяти и нагрузки на БД.
- **Data Integrity:** В поле `column` могут передать значение, не соответствующее существующим колонкам на доске.

## Decision
Мы вводим строгие правила валидации для модели `Card` с использованием Pydantic:
1.  Поле `title`: минимальная длина 3 символа, максимальная — 255.
2.  Поле `column`: должно быть одним из предопределенного списка (`"todo"`, `"in-progress"`, `"done"`).

## Consequences
- **Плюсы:**
  - Повышение безопасности и отказоустойчивости.
  - Улучшение целостности данных.
  - Раннее обнаружение ошибок на стороне клиента.
- **Минусы:**
  - Жесткие ограничения могут не подойти для всех будущих сценариев.

## Links
- **NFR:** NFR-02 (Производительность API), NFR-04 (Валидация колонок)
- **Тест:** `tests/test_cards.py::test_create_card_with_too_long_title`
